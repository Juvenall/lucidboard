<div class="board-header">
    <ul class="tabs">
        <li>
            <a href="#" data-ng-click="switchTab('board')" data-ng-class="{active:currentTab === 'board'}">
                Board: {{board.title()}}
            </a>
        </li>
        <li>
            <a href="#" data-ng-click="switchTab('settings')" data-ng-class="{active:currentTab === 'settings'}">
                Settings
            </a>
        </li>
        <li>
            <a href="#" data-ng-click="switchTab('columns')" data-ng-class="{active:currentTab === 'columns'}">
                Columns
            </a>
        </li>
        <li>
            <a href="#" data-ng-click="switchTab('trash')" data-ng-class="{dropready:cardDragging, active:currentTab === 'trash'}"
                data-ui-on-drop="moveCard($event, $data, board.trash().cards, board.trash().id,
                board.nextPositionByColumnId(board.trash().id))">
                <svg class="icon-trash fill="333" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="32" height="32" viewBox="0 0 32 32">
                    <path d="M8 26c0 1.656 1.343 3 3 3h10c1.656 0 3-1.344 3-3l2-16h-20l2 16zM19 13h2v13h-2v-13zM15 13h2v13h-2v-13zM11 13h2v13h-2v-13zM25.5 6h-6.5c0 0-0.448-2-1-2h-4c-0.553 0-1 2-1 2h-6.5c-0.829 0-1.5 0.671-1.5 1.5s0 1.5 0 1.5h22c0 0 0-0.671 0-1.5s-0.672-1.5-1.5-1.5z" fill="#000000"></path>
                </svg>
                Trash ({{board.trash().cards.length}})
            </a>
        </li>
    </ul>
</div>
<div class="board" data-ng-show="currentTab === 'board'">
    <div class="board-info">
        <div data-ng-show="showTimerForm">
            <label for="timerMinutesInput">Minutes
                <input id="timerMinutesInput" name="timerMinutesInput" type="text" size="4"
                data-ng-model="timerMinutesInput">
            </label>
            <button data-ng-click="timerStart(timerMinutesInput)" class="btn">
                Start
            </button>
        </div>
        <div data-ng-click="showTimerForm = !showTimerForm">
            <span>{{timerLeft | formatTime}} remaining</span>
        </div>
        <div data-ng-show="board.votesPerUser() !== 0 && board.votesRemaining()">
            {{board.votesRemaining()}} vote{{board.votesRemaining() === 1 ? '' : 's'}}
            remaining
        </div>
    </div>
    <div class="columns">
        <div class="column" data-ng-repeat="column in board.columns()">
            <div class="cardstack">
                <ul class="y-list">
                    <li>
                        <h3 class="delta column-title" data-editable-text="column.title" data-buttons="no"
                            onbeforesave="checkColumnTitle($data, column.id)">
                            {{column.title}}
                        </h3>
                    </li>
                    <li>
                        <card data-ng-show="column.cards.length === 0"
                            board="board" card="null" column="column"
                            card-dragging="cardDragging">
                        </card>
                    </li>
                    <li>
                        <card data-ng-repeat="card in column.cards track by $index"
                            board="board" card="card" column="column" index="$index"
                            card-dragging="cardDragging">
                        </card>
                    </li>
            </div>
            <a class="btn-full" data-ng-click="createCard(column)" href="#">+</a>
        </div>
    </div>
</div>
<div data-ng-show="currentTab === 'settings'" class="panel-board-settings">
    <div data-ng-show="b.id" style="float:right;width:15em">
      <a href="/boards/{{b.id}}/export/csv">Export to CSV</a>
    </div>
    <board-settings class="panel-board-settings-half" board="board"></board-settings>
</div>
<div data-ng-show="currentTab === 'columns'" class="panel-board-settings">
  <ul>
    <li data-ng-repeat="c in board.columns()">{{c.title}}</li>
  </ul>
  <form data-ng-controller="NewColumnCtrl" data-ng-submit="createColumn()">
    <ul class="form-fields">
      <li>
        <label>Add New Column</label>
        <input type="text" data-ng-model="title" placeholder="Column Title" maxlength="25">
      </li>
      <li>
        <input type="submit" value="Create New Column" class="btn">
      </li>
    </ul>
  </form>
</div>
<div class="trash" data-ng-show="currentTab === 'trash'"
    data-ng-class="{dropready:cardDragging}"
    data-ui-on-drop="moveCard($event, $data, board.trash().cards, board.trash().id,
    board.nextPositionByColumnId(board.trash().id))">
    <card data-ng-repeat="card in board.trash().cards track by $index"
        board="board" card="card" column="board.trash()" index="$index">
    </card>
</div>
