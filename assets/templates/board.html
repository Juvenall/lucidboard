<section class="board">
  <header class="board-header">
      <ul class="x-list timer">
          <li>
            <div data-ng-show="showTimerForm">
                <label for="timerMinutesInput">Minutes
                  <input id="timerMinutesInput" name="timerMinutesInput" type="text" size="4"
                    data-ng-model="timerMinutesInput">
                </label>
                <button data-ng-click="timerStart(timerMinutesInput)" class="btn">Start</button>
            </div>
            <div data-ng-click="showTimerForm = !showTimerForm">
                <span>{{timerLeft | formatTime}} remaining</span>
            </div>
          </li>
          <li>
            <input type="submit" value="Add Columns" class="btn">
          </li>
      </ul>
        <h2 class="delta">
            Board Title: {{board.title()}}
        </h2>
        <div class="board-info" data-ng-show="board.votesPerUser() !== 0">
            {{board.votesRemaining()}} vote{{board.votesRemaining() === 1 ? '' : 's'}}
            remaining.
        </div>
        <form class="hide" data-ng-controller="NewColumnCtrl" data-ng-submit="createColumn()">
            <ul class="form-fields quarter">
                <li>
                  <input type="text" data-ng-model="title" placeholder="Column Title">
                </li>
                <li>
                  <input type="submit" value="Create New Column" class="btn">
                </li>
            </ul>
        </form>
  </header>
  <div class="columns">
    <div class="column" data-ng-repeat="column in board.columns()">
      <div class="cardstack">
        <ul class="y-list">
            <li>
                <h3 class="delta column-title" data-editable-text="column.title" data-buttons="no"
                      onbeforesave="checkColumnTitle($data, column.id)">
                    {{column.title}}
                </h3>
            </li>
            <li>
                <card data-ng-show="column.cards.length === 0"
                  board="board" card="null" column="column"
                  card-dragging="cardDragging">
                </card>
            </li>
            <li>
                <card data-ng-repeat="card in column.cards track by $index"
                  board="board" card="card" column="column" index="$index"
                  card-dragging="cardDragging">
                </card>
            </li>
      </div>
      <a class="btn-full" data-ng-click="createCard(column)" href="#">+</a>
    </div>
  </div>
</section>
<section class="resizer" data-resizer>
  <ul class="x-list tabber" data-resizer-handle>
    <li class="tab" data-ng-class="{active:currentTab === 'log'}">
      <a data-resizer-expand data-ng-click="switchTab('log')">
          Log
      </a>
    </li>
    <li class="tab" data-ng-class="{activetab:currentTab === 'trash'}">
      <a data-resizer-expand data-ng-click="switchTab('trash')" data-ng-class="{dropready:cardDragging}"
        data-ui-on-drop="moveCard($event, $data, board.trash().cards, board.trash().id,
          board.nextPositionByColumnId(board.trash().id))">
        Trash ({{board.trash().cards.length}})
      </a>
    </li>
    <li class="tab" data-ng-class="{active:currentTab === 'settings'}">
      <a data-resizer-expand data-ng-click="switchTab('settings')">
          Settings
      </a>
    </li>
    <li data-resizer-toggle class="button">
    </li>
  </ul>
  <div class="resizer-content">
    <div class="log" data-ng-show="currentTab === 'log'">
      <div data-log></div>
    </div>
    <div class="trash" data-ng-show="currentTab === 'trash'"
      data-ng-class="{dropready:cardDragging}"
      data-ui-on-drop="moveCard($event, $data, board.trash().cards, board.trash().id,
        board.nextPositionByColumnId(board.trash().id))">
      <card data-ng-repeat="card in board.trash().cards track by $index"
        board="board" card="card" column="board.trash()" index="$index">
      </card>
    </div>
    <div data-ng-show="currentTab === 'settings'">
      <board-settings class="panel-board-settings" board="board"></board-settings>
    </div>
  </div>
</section>
